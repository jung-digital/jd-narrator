!function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return i(r?r:t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,i="/"===s.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(t){var i=r.isAbsolute(t),o="/"===s(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),s=Math.min(i.length,o.length),a=s,u=0;s>u;u++)if(i[u]!==o[u]){a=u;break}for(var c=[],u=a;u<i.length;u++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return 0>e&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:2}],2:[function(t,e,r){function n(){l=!1,a.length?c=a.concat(c):h=-1,c.length&&i()}function i(){if(!l){var t=setTimeout(n);l=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a&&a[h].run();h=-1,e=c.length}a=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,u=e.exports={},c=[],l=!1,h=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new o(t,e)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],3:[function(t,e,r){(function(e,r){!function(t){"use strict";function e(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function r(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++U+"$__"}function n(t){return q[t]}function i(){var t=r();return q[t]=!0,t}function o(t){return"object"==typeof t&&t instanceof u}function s(t){return o(t)?"symbol":typeof t}function a(t){var e=new u(t);if(!(this instanceof a))return e;throw new TypeError("Symbol cannot be new'ed")}function u(t){var e=r();I(this,B,{value:this}),I(this,W,{value:e}),I(this,Y,{value:t}),l(this),X[e]=this}function c(t){var e=t[K];return e&&e.self===t?e:V(t)?(J.hash.value=Q++,J.self.value=t,Z.value=P(null,J),I(t,K,Z),Z.value):void 0}function l(t){return c(t),H.apply(this,arguments)}function h(t){return c(t),G.apply(this,arguments)}function f(t){return c(t),L.apply(this,arguments)}function d(t){return X[t]||q[t]}function p(t){return o(t)?t[W]:t}function v(t){for(var e=[],r=0;r<t.length;r++)d(t[r])||e.push(t[r]);return e}function g(t){return v(F(t))}function b(t){return v($(t))}function m(t){for(var e=[],r=F(t),n=0;n<r.length;n++){var i=X[r[n]];i&&e.push(i)}return e}function y(t,e){return D(t,p(e))}function w(t){return N.call(this,p(t))}function _(e){return t.traceur&&t.traceur.options[e]}function j(t,e,r){return o(e)&&(e=e[W]),I(t,e,r),t}function O(t){I(t,"defineProperty",{value:j}),I(t,"getOwnPropertyNames",{value:g}),I(t,"getOwnPropertyDescriptor",{value:y}),I(t.prototype,"hasOwnProperty",{value:w}),I(t,"freeze",{value:l}),I(t,"preventExtensions",{value:h}),I(t,"seal",{value:f}),I(t,"keys",{value:b})}function M(t){for(var e=1;e<arguments.length;e++)for(var r=F(arguments[e]),n=0;n<r.length;n++){var i=r[n];d(i)||!function(e,r){I(t,r,{get:function(){return e[r]},enumerable:!0})}(arguments[e],r[n])}return t}function S(t){return null!=t&&("object"==typeof t||"function"==typeof t)}function E(t){if(null==t)throw k();return x(t)}function C(t){if(null==t)throw new TypeError("Value cannot be converted to an Object");return t}function R(t,e){t.Symbol||(t.Symbol=e,Object.getOwnPropertySymbols=m),t.Symbol.iterator||(t.Symbol.iterator=e("Symbol.iterator"))}function T(t){R(t,a),t.Reflect=t.Reflect||{},t.Reflect.global=t.Reflect.global||t,O(t.Object)}if(!t.$traceurRuntime){var x=Object,k=TypeError,P=x.create,A=x.defineProperties,I=x.defineProperty,H=x.freeze,D=x.getOwnPropertyDescriptor,F=x.getOwnPropertyNames,$=x.keys,N=x.prototype.hasOwnProperty,G=(x.prototype.toString,Object.preventExtensions),L=Object.seal,V=Object.isExtensible,z=e,U=0,W=r(),Y=r(),B=r(),X=P(null),q=P(null);I(a.prototype,"constructor",e(a)),I(a.prototype,"toString",z(function(){var t=this[B];if(!_("symbols"))return t[W];if(!t)throw TypeError("Conversion from symbol to string");var e=t[Y];return void 0===e&&(e=""),"Symbol("+e+")"})),I(a.prototype,"valueOf",z(function(){var t=this[B];if(!t)throw TypeError("Conversion from symbol to string");return _("symbols")?t:t[W]})),I(u.prototype,"constructor",e(a)),I(u.prototype,"toString",{value:a.prototype.toString,enumerable:!1}),I(u.prototype,"valueOf",{value:a.prototype.valueOf,enumerable:!1});var K=i(),Z={value:void 0},J={hash:{value:void 0},self:{value:void 0}},Q=0;l(u.prototype),T(t),t.$traceurRuntime={checkObjectCoercible:C,createPrivateName:i,defineProperties:A,defineProperty:I,exportStar:M,getOwnHashObject:c,getOwnPropertyDescriptor:D,getOwnPropertyNames:F,isObject:S,isPrivateName:n,isSymbolString:d,keys:$,setupGlobals:T,toObject:E,toProperty:p,"typeof":s}}}("undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this),function(){"use strict";function e(e,n){function i(t){return"/"===t.slice(-1)}function o(t){return"/"===t[0]}function s(t){return"."===t[0]}return r=r||"undefined"!=typeof t&&t("path"),i(n)||o(n)?void 0:t(s(n)?r.resolve(r.dirname(e),n):n)}var r;$traceurRuntime.require=e}(),function(){"use strict";function t(){for(var t,e=[],r=0,n=0;n<arguments.length;n++){var i=$traceurRuntime.checkObjectCoercible(arguments[n]);if("function"!=typeof i[$traceurRuntime.toProperty(Symbol.iterator)])throw new TypeError("Cannot spread non-iterable object.");for(var o=i[$traceurRuntime.toProperty(Symbol.iterator)]();!(t=o.next()).done;)e[r++]=t.value}return e}$traceurRuntime.spread=t}(),function(){"use strict";function t(t,e){var r=v(t);do{var n=p(r,e);if(n)return n;r=v(r)}while(r);return void 0}function e(t){return t.__proto__}function r(t,e,r,i){return n(t,e,r).apply(t,i)}function n(e,r,n){var i=t(r,n);return i?i.get?i.get.call(e):i.value:void 0}function i(e,r,n,i){var o=t(r,n);if(o&&o.set)return o.set.call(e,i),i;throw l("super has no setter '"+n+"'.")}function o(t){for(var e={},r=b(t),n=0;n<r.length;n++){var i=r[n];e[i]=p(t,i)}for(var o=m(t),n=0;n<o.length;n++){var s=o[n];e[$traceurRuntime.toProperty(s)]=p(t,$traceurRuntime.toProperty(s))}return e}function s(t,e,r,n){return d(e,"constructor",{value:t,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof n&&(t.__proto__=n),t.prototype=h(a(n),o(e))):t.prototype=e,d(t,"prototype",{configurable:!1,writable:!1}),f(t,o(r))}function a(t){if("function"==typeof t){var e=t.prototype;if(c(e)===e||null===e)return t.prototype;throw new l("super prototype must be an Object or null")}if(null===t)return null;throw new l("Super expression must either be null or a function, not "+typeof t+".")}function u(t,e,n){null!==v(e)&&r(t,e,"constructor",n)}var c=Object,l=TypeError,h=c.create,f=$traceurRuntime.defineProperties,d=$traceurRuntime.defineProperty,p=$traceurRuntime.getOwnPropertyDescriptor,v=($traceurRuntime.getOwnPropertyNames,Object.getPrototypeOf),g=Object,b=g.getOwnPropertyNames,m=g.getOwnPropertySymbols;$traceurRuntime.createClass=s,$traceurRuntime.defaultSuperCall=u,$traceurRuntime.superCall=r,$traceurRuntime.superConstructor=e,$traceurRuntime.superGet=n,$traceurRuntime.superSet=i}(),function(){"use strict";function t(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function e(t){return new Error("Traceur compiler bug: invalid state in state machine: "+t)}function r(){this.state=0,this.GState=b,this.storedException=void 0,this.finallyFallThrough=void 0,this.sent_=void 0,this.returnValue=void 0,this.tryStack_=[]}function n(t,e,r,n){switch(t.GState){case m:throw new Error('"'+r+'" on executing generator');case w:if("next"==r)return{value:void 0,done:!0};throw n;case b:if("throw"===r)throw t.GState=w,n;if(void 0!==n)throw g("Sent value to newborn generator");case y:t.GState=m,t.action=r,t.sent=n;var i=e(t),o=i===t;return o&&(i=t.returnValue),t.GState=o?w:y,{value:i,done:o}}}function i(){}function o(){}function s(t,e,n){var i=l(t,n),o=new r,s=v(e.prototype);return s[O]=o,s[M]=i,s}function a(t){return t.prototype=v(o.prototype),t.__proto__=o,t}function u(){r.call(this),this.err=void 0;var t=this;t.result=new Promise(function(e,r){t.resolve=e,t.reject=r})}function c(t,e){var r=l(t,e),n=new u;return n.createCallback=function(t){return function(e){n.state=t,n.value=e,r(n)}},n.errback=function(t){h(n,t),r(n)},r(n),n.result}function l(t,e){return function(r){for(;;)try{return t.call(e,r)}catch(n){h(r,n)}}}function h(t,e){t.storedException=e;var r=t.tryStack_[t.tryStack_.length-1];return r?(t.state=void 0!==r["catch"]?r["catch"]:r["finally"],void(void 0!==r.finallyFallThrough&&(t.finallyFallThrough=r.finallyFallThrough))):void t.handleException(e)}if("object"!=typeof $traceurRuntime)throw new Error("traceur runtime not found.");var f=$traceurRuntime.createPrivateName,d=$traceurRuntime.defineProperties,p=$traceurRuntime.defineProperty,v=Object.create,g=TypeError,b=0,m=1,y=2,w=3,_=-2,j=-3;r.prototype={pushTry:function(t,e){if(null!==e){for(var r=null,n=this.tryStack_.length-1;n>=0;n--)if(void 0!==this.tryStack_[n]["catch"]){r=this.tryStack_[n]["catch"];break}null===r&&(r=j),this.tryStack_.push({"finally":e,finallyFallThrough:r})}null!==t&&this.tryStack_.push({"catch":t})},popTry:function(){this.tryStack_.pop()},get sent(){return this.maybeThrow(),this.sent_},set sent(t){this.sent_=t},get sentIgnoreThrow(){return this.sent_},maybeThrow:function(){if("throw"===this.action)throw this.action="next",this.sent_},end:function(){switch(this.state){case _:return this;case j:throw this.storedException;default:throw e(this.state)}},handleException:function(t){throw this.GState=w,this.state=_,t}};var O=f(),M=f();i.prototype=o,p(o,"constructor",t(i)),o.prototype={constructor:o,next:function(t){return n(this[O],this[M],"next",t)},"throw":function(t){return n(this[O],this[M],"throw",t)}},d(o.prototype,{constructor:{enumerable:!1},next:{enumerable:!1},"throw":{enumerable:!1}}),Object.defineProperty(o.prototype,Symbol.iterator,t(function(){return this})),u.prototype=v(r.prototype),u.prototype.end=function(){switch(this.state){case _:this.resolve(this.returnValue);break;case j:this.reject(this.storedException);break;default:this.reject(e(this.state))}},u.prototype.handleException=function(){this.state=j},$traceurRuntime.asyncWrap=c,$traceurRuntime.initGeneratorFunction=a,$traceurRuntime.createGeneratorInstance=s}(),function(){function t(t,e,r,n,i,o,s){var a=[];return t&&a.push(t,":"),r&&(a.push("//"),e&&a.push(e,"@"),a.push(r),n&&a.push(":",n)),i&&a.push(i),o&&a.push("?",o),s&&a.push("#",s),a.join("")}function e(t){return t.match(a)}function r(t){if("/"===t)return"/";for(var e="/"===t[0]?"/":"",r="/"===t.slice(-1)?"/":"",n=t.split("/"),i=[],o=0,s=0;s<n.length;s++){var a=n[s];switch(a){case"":case".":break;case"..":i.length?i.pop():o++;break;default:i.push(a)}}if(!e){for(;o-->0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+r}function n(e){var n=e[u.PATH]||"";return n=r(n),e[u.PATH]=n,t(e[u.SCHEME],e[u.USER_INFO],e[u.DOMAIN],e[u.PORT],e[u.PATH],e[u.QUERY_DATA],e[u.FRAGMENT])}function i(t){var r=e(t);return n(r)}function o(t,r){var i=e(r),o=e(t);if(i[u.SCHEME])return n(i);i[u.SCHEME]=o[u.SCHEME];for(var s=u.SCHEME;s<=u.PORT;s++)i[s]||(i[s]=o[s]);if("/"==i[u.PATH][0])return n(i);var a=o[u.PATH],c=a.lastIndexOf("/");return a=a.slice(0,c+1)+i[u.PATH],i[u.PATH]=a,n(i)}function s(t){if(!t)return!1;if("/"===t[0])return!0;var r=e(t);return r[u.SCHEME]?!0:!1}var a=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),u={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};$traceurRuntime.canonicalizeUrl=i,$traceurRuntime.isAbsolute=s,$traceurRuntime.removeDotSegments=r,$traceurRuntime.resolveUrl=o}(),function(){"use strict";function t(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=n,s=$traceurRuntime.getOwnHashObject(t).hash;o[s]||(o[s]=Object.create(null)),o=o[s];for(var a=0;a<e.length-1;a++)s=$traceurRuntime.getOwnHashObject(e[a]).hash,o[s]||(o[s]=Object.create(null)),o=o[s];var u=e[e.length-1];return s=$traceurRuntime.getOwnHashObject(u).hash,o[s]||(o[s]=new r(t,e)),o[s]}var e={any:{name:"any"},"boolean":{name:"boolean"},number:{name:"number"},string:{name:"string"},symbol:{name:"symbol"},"void":{name:"void"}},r=function(t,e){this.type=t,this.argumentTypes=e};$traceurRuntime.createClass(r,{},{});var n=Object.create(null);$traceurRuntime.GenericType=r,$traceurRuntime.genericType=t,$traceurRuntime.type=e}(),function(t){"use strict";function e(t,e){var r=[],n=e-3;0>n&&(n=0);for(var i=n;e>i;i++)r.push(t[i]);return r}function r(t,e){var r=e+1;r>t.length-1&&(r=t.length-1);for(var n=[],i=e;r>=i;i++)n.push(t[i]);return n}function n(t){for(var e="",r=0;t-1>r;r++)e+="-";return e}function i(t){if(t){var e=y.normalize(t);return h[e]}}function o(t){var e=arguments[1],r=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){var i,o;if(e===m){var s=Object.getOwnPropertyDescriptor(t,n);s.get&&(i=s.get)}i||(o=t[n],i=function(){return o}),Object.defineProperty(r,n,{get:i,enumerable:!0})}),Object.preventExtensions(r),r}var s,a=$traceurRuntime,u=a.canonicalizeUrl,c=a.resolveUrl,l=a.isAbsolute,h=Object.create(null);s=t.location&&t.location.href?c(t.location.href,"./"):"";var f=function(t,e){this.url=t,this.value_=e};$traceurRuntime.createClass(f,{},{});var d=function(t,e){this.message=this.constructor.name+": "+this.stripCause(e)+" in "+t,e instanceof p||!e.stack?this.stack="":this.stack=this.stripStack(e.stack)},p=d;$traceurRuntime.createClass(d,{stripError:function(t){return t.replace(/.*Error:/,this.constructor.name+":")},stripCause:function(t){return t?t.message?this.stripError(t.message):t+"":""},loadedBy:function(t){this.stack+="\n loaded by "+t},stripStack:function(t){var e=[];return t.split("\n").some(function(t){return/UncoatedModuleInstantiator/.test(t)?!0:void e.push(t)}),e[0]=this.stripError(e[0]),e.join("\n")}},{},Error);var v=function(t,e){$traceurRuntime.superConstructor(g).call(this,t,null),this.func=e},g=v;$traceurRuntime.createClass(v,{getUncoatedModule:function(){if(this.value_)return this.value_;try{var i;return void 0!==typeof $traceurRuntime&&(i=$traceurRuntime.require.bind(null,this.url)),this.value_=this.func.call(t,i)}catch(o){if(o instanceof d)throw o.loadedBy(this.url),o;if(o.stack){var s=this.func.toString().split("\n"),a=[];o.stack.split("\n").some(function(t){if(t.indexOf("UncoatedModuleInstantiator.getUncoatedModule")>0)return!0;var i=/(at\s[^\s]*\s).*>:(\d*):(\d*)\)/.exec(t);if(i){var o=parseInt(i[2],10);a=a.concat(e(s,o)),a.push(n(i[3])+"^"),a=a.concat(r(s,o)),a.push("= = = = = = = = =")}else a.push(t)}),o.stack=a.join("\n")}throw new d(this.url,o)}}},{},f);var b=Object.create(null),m={},y={normalize:function(t,e,r){if("string"!=typeof t)throw new TypeError("module name must be a string, not "+typeof t);if(l(t))return u(t);if(/[^\.]\/\.\.\//.test(t))throw new Error("module name embeds /../: "+t);return"."===t[0]&&e?c(e,t):u(t)},get:function(t){var e=i(t);if(!e)return void 0;var r=b[e.url];return r?r:(r=o(e.getUncoatedModule(),m),b[e.url]=r)},set:function(t,e){t=String(t),h[t]=new v(t,function(){return e}),b[t]=e},get baseURL(){return s},set baseURL(t){s=String(t)},registerModule:function(t,e,r){var n=y.normalize(t);if(h[n])throw new Error("duplicate module named "+n);h[n]=new v(n,r)},bundleStore:Object.create(null),register:function(t,e,r){e&&(e.length||r.length)?this.bundleStore[t]={deps:e,execute:function(){var t=arguments,n={};e.forEach(function(e,r){return n[e]=t[r]});var i=r.call(this,n);return i.execute.call(this),i.exports}}:this.registerModule(t,e,r)},getAnonymousModule:function(e){return new o(e.call(t),m)},getForTesting:function(t){var e=this;return this.testingPrefix_||Object.keys(b).some(function(t){var r=/(traceur@[^\/]*\/)/.exec(t);return r?(e.testingPrefix_=r[1],!0):void 0}),this.get(this.testingPrefix_+t)}},w=new o({ModuleStore:y});y.set("@traceur/src/runtime/ModuleStore",w),y.set("@traceur/src/runtime/ModuleStore.js",w);var _=$traceurRuntime.setupGlobals;$traceurRuntime.setupGlobals=function(t){_(t)},$traceurRuntime.ModuleStore=y,t.System={register:y.register.bind(y),registerModule:y.registerModule.bind(y),get:y.get,set:y.set,normalize:y.normalize},$traceurRuntime.getModuleImpl=function(t){var e=i(t);return e&&e.getUncoatedModule()}}("undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js",[],function(){"use strict";function t(t){return t>>>0}function e(t){return t&&("object"==typeof t||"function"==typeof t)}function r(t){return"function"==typeof t}function n(t){return"number"==typeof t}function i(t){return t=+t,w(t)?0:0!==t&&y(t)?t>0?m(t):b(t):t}function o(t){var e=i(t);return 0>e?0:j(e,M)}function s(t){return e(t)?t[Symbol.iterator]:void 0}function a(t){return r(t)}function u(t,e){return{value:t,done:e}}function c(t,e,r){e in t||Object.defineProperty(t,e,r)}function l(t,e,r){c(t,e,{value:r,configurable:!0,enumerable:!1,writable:!0})}function h(t,e,r){c(t,e,{value:r,configurable:!1,enumerable:!1,writable:!1})}function f(t,e){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];l(t,n,i)}}function d(t,e){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];h(t,n,i)}}function p(t,e,r){r&&r.iterator&&!t[r.iterator]&&(t["@@iterator"]&&(e=t["@@iterator"]),Object.defineProperty(t,r.iterator,{value:e,configurable:!0,enumerable:!1,writable:!0}))}function v(t){S.push(t)}function g(t){S.forEach(function(e){return e(t)})}var b=Math.ceil,m=Math.floor,y=isFinite,w=isNaN,_=Math.pow,j=Math.min,O=$traceurRuntime.toObject,M=_(2,53)-1,S=[];return{get toObject(){return O},get toUint32(){return t},get isObject(){return e},get isCallable(){return r},get isNumber(){return n},get toInteger(){return i},get toLength(){return o},get checkIterable(){return s},get isConstructor(){return a},get createIteratorResultObject(){return u},get maybeDefine(){return c},get maybeDefineMethod(){return l},get maybeDefineConst(){return h},get maybeAddFunctions(){return f},get maybeAddConsts(){return d},get maybeAddIterator(){return p},get registerPolyfill(){return v},get polyfillAll(){return g}}}),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/Map.js",[],function(){"use strict";function t(t,e){if(i(e)){var r=a(e);return r&&t.objectIndex_[r.hash]}return"string"==typeof e?t.stringIndex_[e]:t.primitiveIndex_[e]}function e(t){t.entries_=[],t.objectIndex_=Object.create(null),t.stringIndex_=Object.create(null),t.primitiveIndex_=Object.create(null),t.deletedCount_=0}function r(t){var e=t,r=e.Object,n=e.Symbol;t.Map||(t.Map=l);var i=t.Map.prototype;void 0===i.entries&&(t.Map=l),i.entries&&(o(i,i.entries,n),o(r.getPrototypeOf((new t.Map).entries()),function(){return this},n))}var n=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js"),i=n.isObject,o=n.maybeAddIterator,s=n.registerPolyfill,a=$traceurRuntime.getOwnHashObject,u=Object.prototype.hasOwnProperty,c={},l=function(){var t=arguments[0];if(!i(this))throw new TypeError("Map called on incompatible type");if(u.call(this,"entries_"))throw new TypeError("Map can not be reentrantly initialised");if(e(this),null!==t&&void 0!==t)for(var r,n=t[$traceurRuntime.toProperty(Symbol.iterator)]();!(r=n.next()).done;){var o=r.value,s=o[0],a=o[1];this.set(s,a)}};return $traceurRuntime.createClass(l,{get size(){return this.entries_.length/2-this.deletedCount_},get:function(e){var r=t(this,e);return void 0!==r?this.entries_[r+1]:void 0},set:function(e,r){var n=i(e),o="string"==typeof e,s=t(this,e);if(void 0!==s)this.entries_[s+1]=r;else if(s=this.entries_.length,this.entries_[s]=e,this.entries_[s+1]=r,n){var u=a(e),c=u.hash;this.objectIndex_[c]=s}else o?this.stringIndex_[e]=s:this.primitiveIndex_[e]=s;return this},has:function(e){return void 0!==t(this,e)},"delete":function(t){var e,r,n=i(t),o="string"==typeof t;if(n){var s=a(t);s&&(e=this.objectIndex_[r=s.hash],delete this.objectIndex_[r])}else o?(e=this.stringIndex_[t],delete this.stringIndex_[t]):(e=this.primitiveIndex_[t],delete this.primitiveIndex_[t]);return void 0!==e?(this.entries_[e]=c,this.entries_[e+1]=void 0,this.deletedCount_++,!0):!1},clear:function(){e(this)},forEach:function(t){for(var e=arguments[1],r=0;r<this.entries_.length;r+=2){var n=this.entries_[r],i=this.entries_[r+1];n!==c&&t.call(e,i,n,this)}},entries:$traceurRuntime.initGeneratorFunction(function h(){var t,e,r;return $traceurRuntime.createGeneratorInstance(function(n){for(;;)switch(n.state){case 0:t=0,n.state=12;break;case 12:n.state=t<this.entries_.length?8:-2;break;case 4:t+=2,n.state=12;break;case 8:e=this.entries_[t],r=this.entries_[t+1],n.state=9;break;case 9:n.state=e===c?4:6;break;case 6:return n.state=2,[e,r];case 2:n.maybeThrow(),n.state=4;break;default:return n.end()}},h,this)}),keys:$traceurRuntime.initGeneratorFunction(function f(){var t,e,r;return $traceurRuntime.createGeneratorInstance(function(n){for(;;)switch(n.state){case 0:t=0,n.state=12;break;case 12:n.state=t<this.entries_.length?8:-2;break;case 4:t+=2,n.state=12;break;case 8:e=this.entries_[t],r=this.entries_[t+1],n.state=9;break;case 9:n.state=e===c?4:6;break;case 6:return n.state=2,e;case 2:n.maybeThrow(),n.state=4;break;default:return n.end()}},f,this)}),values:$traceurRuntime.initGeneratorFunction(function d(){var t,e,r;return $traceurRuntime.createGeneratorInstance(function(n){for(;;)switch(n.state){case 0:t=0,n.state=12;break;case 12:n.state=t<this.entries_.length?8:-2;break;case 4:t+=2,n.state=12;break;case 8:e=this.entries_[t],r=this.entries_[t+1],n.state=9;break;case 9:n.state=e===c?4:6;break;case 6:return n.state=2,r;case 2:n.maybeThrow(),n.state=4;break;default:return n.end()}},d,this)})},{}),Object.defineProperty(l.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:l.prototype.entries}),s(r),{get Map(){return l},get polyfillMap(){return r}}}),System.get("traceur-runtime@0.0.79/src/runtime/polyfills/Map.js"),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/Set.js",[],function(){"use strict";function t(t){t.map_=new s}function e(t){var e=t,r=e.Object,n=e.Symbol;t.Set||(t.Set=u);var o=t.Set.prototype;o.values&&(i(o,o.values,n),i(r.getPrototypeOf((new t.Set).values()),function(){return this},n))}var r=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js"),n=r.isObject,i=r.maybeAddIterator,o=r.registerPolyfill,s=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/Map.js").Map,a=($traceurRuntime.getOwnHashObject,Object.prototype.hasOwnProperty),u=function(){var e=arguments[0];if(!n(this))throw new TypeError("Set called on incompatible type");if(a.call(this,"map_"))throw new TypeError("Set can not be reentrantly initialised");if(t(this),null!==e&&void 0!==e)for(var r,i=e[$traceurRuntime.toProperty(Symbol.iterator)]();!(r=i.next()).done;){var o=r.value;this.add(o)}};return $traceurRuntime.createClass(u,{get size(){return this.map_.size},has:function(t){return this.map_.has(t)},add:function(t){return this.map_.set(t,t),this},"delete":function(t){return this.map_["delete"](t)},clear:function(){return this.map_.clear()},forEach:function(t){var e=arguments[1],r=this;return this.map_.forEach(function(n,i){t.call(e,i,i,r)})},values:$traceurRuntime.initGeneratorFunction(function c(){var t,e;return $traceurRuntime.createGeneratorInstance(function(r){for(;;)switch(r.state){case 0:t=this.map_.keys()[Symbol.iterator](),r.sent=void 0,r.action="next",r.state=12;break;case 12:e=t[r.action](r.sentIgnoreThrow),r.state=9;break;case 9:r.state=e.done?3:2;break;case 3:r.sent=e.value,r.state=-2;break;case 2:return r.state=12,e.value;default:return r.end()}},c,this)}),entries:$traceurRuntime.initGeneratorFunction(function l(){var t,e;return $traceurRuntime.createGeneratorInstance(function(r){for(;;)switch(r.state){case 0:t=this.map_.entries()[Symbol.iterator](),r.sent=void 0,r.action="next",r.state=12;break;case 12:e=t[r.action](r.sentIgnoreThrow),r.state=9;break;case 9:r.state=e.done?3:2;break;case 3:r.sent=e.value,r.state=-2;break;case 2:return r.state=12,e.value;default:return r.end()}},l,this)})},{}),Object.defineProperty(u.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:u.prototype.values}),Object.defineProperty(u.prototype,"keys",{configurable:!0,writable:!0,value:u.prototype.values}),o(e),{get Set(){return u},get polyfillSet(){return e}}}),System.get("traceur-runtime@0.0.79/src/runtime/polyfills/Set.js"),System.registerModule("traceur-runtime@0.0.79/node_modules/rsvp/lib/rsvp/asap.js",[],function(){"use strict";function t(t,e){d[u]=t,d[u+1]=e,u+=2,2===u&&a()}function r(){return function(){e.nextTick(s)}}function n(){var t=0,e=new h(s),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function i(){var t=new MessageChannel;return t.port1.onmessage=s,function(){t.port2.postMessage(0)}}function o(){return function(){setTimeout(s,1)}}function s(){for(var t=0;u>t;t+=2){var e=d[t],r=d[t+1];e(r),d[t]=void 0,d[t+1]=void 0}u=0}var a,u=0,c=t,l="undefined"!=typeof window?window:{},h=l.MutationObserver||l.WebKitMutationObserver,f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,d=new Array(1e3);return a="undefined"!=typeof e&&"[object process]"==={}.toString.call(e)?r():h?n():f?i():o(),{get default(){return c}}}),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/Promise.js",[],function(){"use strict";function t(t){return t&&"object"==typeof t&&void 0!==t.status_}function e(t){return t}function r(t){throw t}function n(t){var n=void 0!==arguments[1]?arguments[1]:e,o=void 0!==arguments[2]?arguments[2]:r,s=i(t.constructor);switch(t.status_){case void 0:throw TypeError;case 0:t.onResolve_.push(n,s),t.onReject_.push(o,s);break;case 1:l(t.value_,[n,s]);break;case-1:l(t.value_,[o,s])}return s.promise}function i(t){if(this===y){var e=s(new y(b));return{promise:e,resolve:function(t){a(e,t)},reject:function(t){u(e,t)}}}var r={};return r.promise=new t(function(t,e){r.resolve=t,r.reject=e}),r}function o(t,e,r,n,i){return t.status_=e,t.value_=r,t.onResolve_=n,t.onReject_=i,t}function s(t){return o(t,0,void 0,[],[])}function a(t,e){c(t,1,e,t.onResolve_)}function u(t,e){c(t,-1,e,t.onReject_)}function c(t,e,r,n){0===t.status_&&(l(r,n),o(t,e,r))}function l(t,e){v(function(){for(var r=0;r<e.length;r+=2)h(t,e[r],e[r+1])})}function h(e,r,i){try{var o=r(e);if(o===i.promise)throw new TypeError;t(o)?n(o,i.resolve,i.reject):i.resolve(o)}catch(s){try{i.reject(s)}catch(s){}}}function f(t){return t&&("object"==typeof t||"function"==typeof t)}function d(e,r){if(!t(r)&&f(r)){var n;try{n=r.then}catch(o){var s=w.call(e,o);return r[_]=s,s}if("function"==typeof n){var a=r[_];if(a)return a;var u=i(e);r[_]=u.promise;try{n.call(r,u.resolve,u.reject)}catch(o){u.reject(o)}return u.promise}}return r}function p(t){t.Promise||(t.Promise=m)}var v=System.get("traceur-runtime@0.0.79/node_modules/rsvp/lib/rsvp/asap.js")["default"],g=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js").registerPolyfill,b={},m=function(t){if(t!==b){if("function"!=typeof t)throw new TypeError;var e=s(this);try{t(function(t){a(e,t)},function(t){u(e,t)})}catch(r){u(e,r)}}};$traceurRuntime.createClass(m,{"catch":function(t){return this.then(void 0,t)},then:function(i,o){"function"!=typeof i&&(i=e),"function"!=typeof o&&(o=r);var s=this,a=this.constructor;return n(this,function(e){return e=d(a,e),e===s?o(new TypeError):t(e)?e.then(i,o):i(e)},o)}},{resolve:function(e){return this===y?t(e)?e:o(new y(b),1,e):new this(function(t,r){t(e)})},reject:function(t){return this===y?o(new y(b),-1,t):new this(function(e,r){r(t)})},all:function(t){var e=i(this),r=[];try{var n=t.length;if(0===n)e.resolve(r);else for(var o=0;o<t.length;o++)this.resolve(t[o]).then(function(t,i){r[t]=i,0===--n&&e.resolve(r)}.bind(void 0,o),function(t){e.reject(t)})}catch(s){e.reject(s)}return e.promise},race:function(t){var e=i(this);try{for(var r=0;r<t.length;r++)this.resolve(t[r]).then(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(n){e.reject(n)}return e.promise}});var y=m,w=y.reject,_="@@thenable";return g(p),{get Promise(){return m},get polyfillPromise(){return p}}}),System.get("traceur-runtime@0.0.79/src/runtime/polyfills/Promise.js"),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/StringIterator.js",[],function(){"use strict";function t(t){var e=String(t),r=Object.create(c.prototype);return r[o(a)]=e,r[o(u)]=0,r}var e,r=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js"),n=r.createIteratorResultObject,i=r.isObject,o=$traceurRuntime.toProperty,s=Object.prototype.hasOwnProperty,a=Symbol("iteratedString"),u=Symbol("stringIteratorNextIndex"),c=function(){};return $traceurRuntime.createClass(c,(e={},Object.defineProperty(e,"next",{value:function(){var t=this;if(!i(t)||!s.call(t,a))throw new TypeError("this must be a StringIterator object");var e=t[o(a)];if(void 0===e)return n(void 0,!0);var r=t[o(u)],c=e.length;if(r>=c)return t[o(a)]=void 0,n(void 0,!0);var l,h=e.charCodeAt(r);if(55296>h||h>56319||r+1===c)l=String.fromCharCode(h);else{var f=e.charCodeAt(r+1);l=56320>f||f>57343?String.fromCharCode(h):String.fromCharCode(h)+String.fromCharCode(f)}return t[o(u)]=r+l.length,n(l,!1)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(e,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),e),{}),{get createStringIterator(){return t}}}),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/String.js",[],function(){"use strict";function t(t){var e=String(this);if(null==this||"[object RegExp]"==p.call(t))throw TypeError();var r=e.length,n=String(t),i=(n.length,arguments.length>1?arguments[1]:void 0),o=i?Number(i):0;isNaN(o)&&(o=0);var s=Math.min(Math.max(o,0),r);return v.call(e,n,o)==s}function e(t){var e=String(this);if(null==this||"[object RegExp]"==p.call(t))throw TypeError();
var r=e.length,n=String(t),i=n.length,o=r;if(arguments.length>1){var s=arguments[1];void 0!==s&&(o=s?Number(s):0,isNaN(o)&&(o=0))}var a=Math.min(Math.max(o,0),r),u=a-i;return 0>u?!1:g.call(e,n,u)==u}function r(t){if(null==this)throw TypeError();var e=String(this);if(t&&"[object RegExp]"==p.call(t))throw TypeError();var r=e.length,n=String(t),i=n.length,o=arguments.length>1?arguments[1]:void 0,s=o?Number(o):0;s!=s&&(s=0);var a=Math.min(Math.max(s,0),r);return i+a>r?!1:-1!=v.call(e,n,s)}function n(t){if(null==this)throw TypeError();var e=String(this),r=t?Number(t):0;if(isNaN(r)&&(r=0),0>r||r==1/0)throw RangeError();if(0==r)return"";for(var n="";r--;)n+=e;return n}function i(t){if(null==this)throw TypeError();var e=String(this),r=e.length,n=t?Number(t):0;if(isNaN(n)&&(n=0),0>n||n>=r)return void 0;var i,o=e.charCodeAt(n);return o>=55296&&56319>=o&&r>n+1&&(i=e.charCodeAt(n+1),i>=56320&&57343>=i)?1024*(o-55296)+i-56320+65536:o}function o(t){var e=t.raw,r=e.length>>>0;if(0===r)return"";for(var n="",i=0;;){if(n+=e[i],i+1===r)return n;n+=arguments[++i]}}function s(){var t,e,r=[],n=Math.floor,i=-1,o=arguments.length;if(!o)return"";for(;++i<o;){var s=Number(arguments[i]);if(!isFinite(s)||0>s||s>1114111||n(s)!=s)throw RangeError("Invalid code point: "+s);65535>=s?r.push(s):(s-=65536,t=(s>>10)+55296,e=s%1024+56320,r.push(t,e))}return String.fromCharCode.apply(null,r)}function a(){var t=$traceurRuntime.checkObjectCoercible(this),e=String(t);return c(e)}function u(u){var c=u.String;h(c.prototype,["codePointAt",i,"endsWith",e,"includes",r,"repeat",n,"startsWith",t]),h(c,["fromCodePoint",s,"raw",o]),f(c.prototype,a,Symbol)}var c=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/StringIterator.js").createStringIterator,l=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js"),h=l.maybeAddFunctions,f=l.maybeAddIterator,d=l.registerPolyfill,p=Object.prototype.toString,v=String.prototype.indexOf,g=String.prototype.lastIndexOf;return d(u),{get startsWith(){return t},get endsWith(){return e},get includes(){return r},get repeat(){return n},get codePointAt(){return i},get raw(){return o},get fromCodePoint(){return s},get stringPrototypeIterator(){return a},get polyfillString(){return u}}}),System.get("traceur-runtime@0.0.79/src/runtime/polyfills/String.js"),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/ArrayIterator.js",[],function(){"use strict";function t(t,e){var r=s(t),n=new f;return n.iteratorObject_=r,n.arrayIteratorNextIndex_=0,n.arrayIterationKind_=e,n}function e(){return t(this,h)}function r(){return t(this,c)}function n(){return t(this,l)}var i,o=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js"),s=o.toObject,a=o.toUint32,u=o.createIteratorResultObject,c=1,l=2,h=3,f=function(){};return $traceurRuntime.createClass(f,(i={},Object.defineProperty(i,"next",{value:function(){var t=s(this),e=t.iteratorObject_;if(!e)throw new TypeError("Object is not an ArrayIterator");var r=t.arrayIteratorNextIndex_,n=t.arrayIterationKind_,i=a(e.length);return r>=i?(t.arrayIteratorNextIndex_=1/0,u(void 0,!0)):(t.arrayIteratorNextIndex_=r+1,n==l?u(e[r],!1):n==h?u([r,e[r]],!1):u(r,!1))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),i),{}),{get entries(){return e},get keys(){return r},get values(){return n}}}),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/Array.js",[],function(){"use strict";function t(t){var e,r,n=arguments[1],i=arguments[2],o=this,s=w(t),a=void 0!==n,u=0;if(a&&!d(n))throw TypeError();if(f(s)){e=p(o)?new o:[];for(var c,l=s[$traceurRuntime.toProperty(Symbol.iterator)]();!(c=l.next()).done;){var h=c.value;a?e[u]=n.call(i,h,u):e[u]=h,u++}return e.length=u,e}for(r=y(s.length),e=p(o)?new o(r):new Array(r);r>u;u++)a?e[u]="undefined"==typeof i?n(s[u],u):n.call(i,s[u],u):e[u]=s[u];return e.length=r,e}function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=this,n=t.length,i=p(r)?new r(n):new Array(n),o=0;n>o;o++)i[o]=t[o];return i.length=n,i}function r(t){var e=void 0!==arguments[1]?arguments[1]:0,r=arguments[2],n=w(this),i=y(n.length),o=m(e),s=void 0!==r?m(r):i;for(o=0>o?Math.max(i+o,0):Math.min(o,i),s=0>s?Math.max(i+s,0):Math.min(s,i);s>o;)n[o]=t,o++;return n}function n(t){var e=arguments[1];return o(this,t,e)}function i(t){var e=arguments[1];return o(this,t,e,!0)}function o(t,e){var r=arguments[2],n=void 0!==arguments[3]?arguments[3]:!1,i=w(t),o=y(i.length);if(!d(e))throw TypeError();for(var s=0;o>s;s++){var a=i[s];if(e.call(r,a,s,i))return n?s:a}return n?-1:void 0}function s(o){var s=o,a=s.Array,h=s.Object,f=s.Symbol;v(a.prototype,["entries",u,"keys",c,"values",l,"fill",r,"find",n,"findIndex",i]),v(a,["from",t,"of",e]),g(a.prototype,l,f),g(h.getPrototypeOf([].values()),function(){return this},f)}var a=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/ArrayIterator.js"),u=a.entries,c=a.keys,l=a.values,h=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js"),f=h.checkIterable,d=h.isCallable,p=h.isConstructor,v=h.maybeAddFunctions,g=h.maybeAddIterator,b=h.registerPolyfill,m=h.toInteger,y=h.toLength,w=h.toObject;return b(s),{get from(){return t},get of(){return e},get fill(){return r},get find(){return n},get findIndex(){return i},get polyfillArray(){return s}}}),System.get("traceur-runtime@0.0.79/src/runtime/polyfills/Array.js"),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/Object.js",[],function(){"use strict";function t(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function e(t){for(var e=1;e<arguments.length;e++){var r,n=arguments[e],i=null==n?[]:f(n),o=i.length;for(r=0;o>r;r++){var s=i[r];h(s)||(t[s]=n[s])}}return t}function r(t,e){var r,n,i=l(e),o=i.length;for(r=0;o>r;r++){var s=i[r];h(s)||(n=c(e,i[r]),u(t,i[r],n))}return t}function n(n){var i=n.Object;o(i,["assign",e,"is",t,"mixin",r])}var i=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js"),o=i.maybeAddFunctions,s=i.registerPolyfill,a=$traceurRuntime,u=a.defineProperty,c=a.getOwnPropertyDescriptor,l=a.getOwnPropertyNames,h=a.isPrivateName,f=a.keys;return s(n),{get is(){return t},get assign(){return e},get mixin(){return r},get polyfillObject(){return n}}}),System.get("traceur-runtime@0.0.79/src/runtime/polyfills/Object.js"),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/Number.js",[],function(){"use strict";function t(t){return s(t)&&f(t)}function e(e){return t(e)&&l(e)===e}function r(t){return s(t)&&d(t)}function n(e){if(t(e)){var r=l(e);if(r===e)return h(r)<=p}return!1}function i(i){var o=i.Number;a(o,["MAX_SAFE_INTEGER",p,"MIN_SAFE_INTEGER",v,"EPSILON",g]),u(o,["isFinite",t,"isInteger",e,"isNaN",r,"isSafeInteger",n])}var o=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js"),s=o.isNumber,a=o.maybeAddConsts,u=o.maybeAddFunctions,c=o.registerPolyfill,l=o.toInteger,h=Math.abs,f=isFinite,d=isNaN,p=Math.pow(2,53)-1,v=-Math.pow(2,53)+1,g=Math.pow(2,-52);return c(i),{get MAX_SAFE_INTEGER(){return p},get MIN_SAFE_INTEGER(){return v},get EPSILON(){return g},get isFinite(){return t},get isInteger(){return e},get isNaN(){return r},get isSafeInteger(){return n},get polyfillNumber(){return i}}}),System.get("traceur-runtime@0.0.79/src/runtime/polyfills/Number.js"),System.registerModule("traceur-runtime@0.0.79/src/runtime/polyfills/polyfills.js",[],function(){"use strict";var t=System.get("traceur-runtime@0.0.79/src/runtime/polyfills/utils.js").polyfillAll;t(Reflect.global);var e=$traceurRuntime.setupGlobals;return $traceurRuntime.setupGlobals=function(r){e(r),t(r)},{}}),System.get("traceur-runtime@0.0.79/src/runtime/polyfills/polyfills.js")}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2,path:1}],4:[function(t,e,r){"use strict";function n(t){var e=t.renderer,r=Math.random()*w+(e.lastTime-this.options.lastAngleChangeTime);if(r>w){var n=Math.random()*(Math.PI/3)-Math.PI/6,i=mat2.create();mat2.rotate(i,i,n),vec2.transformMat2(this.options.vel,this.options.vel,i),vec2.scale(this.options.vel,this.options.vel,1-Math.random()*e.elapsed*.2),this.options.lastAngleChangeTime=e.lastTime}this.options.heatCurrent+=Math.random(),this.options.life-=e.elapsed;var o=.5*(Math.sin(this.options.life*this.options.glowFlickerSpeed)+1.5);this.options.glowFlickerSpeed+=Math.random()*e.elapsed,this.options.color.l=this.options.life/this.options.lifeTotal*this.options.glow*o,this.options.lifeRatio=this.options.life/this.options.lifeTotal;var s=e.elapsed*(e.canvas.width/1e3),a=vec2.scaleAndAdd(vec2.create(),this.pos,this.options.vel,s);this.next(a),(this.options.life<0||a[1]>e.height+this.options.sparkEdgeBottomOffset||a[0]<0||a[1]<0||a[0]>e.width)&&this.reset()}Object.defineProperties(r,{"default":{get:function(){return C}},__esModule:{value:!0}});var i,o,s,a,u,c=(i=t("../lib/core/GraphicContainer"),i&&i.__esModule&&i||{"default":i})["default"],l=(o=t("../lib/gx/Spark"),o&&o.__esModule&&o||{"default":o})["default"],h=(s=t("../lib/core/util/Color"),s&&s.__esModule&&s||{"default":s}).hsvToRgb,f=(a=t("../lib/core/events/GraphicRendererEvents"),a&&a.__esModule&&a||{"default":a})["default"],d=(u=t("../lib/core/events/GraphicEvents"),u&&u.__esModule&&u||{"default":u})["default"],p=75,v=3.4,g=1,b=70,m=20,y=40,w=5e3,_=8,j=20,O=10,M=200,S=function(t,e){$traceurRuntime.superConstructor(E).call(this,t,e||"embers");var r=this.options;r.sparkCount=r.sparkCount||p,r.maxSparkSize=r.maxSparkSize||v,r.minSparkSize=r.minSparkSize||g,r.maxSparkVelocity=r.maxSparkVelocity||b,r.minSparkVelocity=r.minSparkVelocity||m,r.maxTailLength=r.maxTailLength||j,r.sparkCount=r.sparkCount||p,r.maxSparkLife=r.maxSparkLife||O,r.sparkEdgeBottomOffset=r.sparkEdgeBottomOffset||M,r.scrollRatio=void 0!==r.scrollRatio?r.scrollRatio:0,this.sparkSource=this.options.sparkSource,this.sparks=[];for(var n=this.redrawSegment.bind(this),i=0;i<this.options.sparkCount;i++)this.sparks.push(new l({redrawSegment:n,sparkResolution:4}));this.addListener(d.ADDED,this.addedHandler.bind(this))},E=S;$traceurRuntime.createClass(S,{redrawSegment:function(t,e,r,n,i,o,s){i=1-n/this.options.maxTailLength;var a=h(t.options.color.h,t.options.color.s,t.options.color.l);s.strokeStyle="rgba("+~~(256*a.r)+","+~~(256*a.g)+","+256*~~a.b+","+i*t.options.lifeRatio+")",s.lineWidth=t.options.size*i*(this.renderer.canvas.width/1e3),s.beginPath(),s.moveTo(e[0],e[1]),s.lineTo(r[0],r[1]),s.stroke()},startSpark:function(t){var e=Math.random()-.5-Math.PI/2,r=Math.random()*Math.PI*2,n=Math.random()*y,i=Math.random()*this.options.maxSparkLife/2+this.options.maxSparkLife/2,o=this.sparkSource||vec2.fromValues(this.renderer.canvas.width/2,this.renderer.canvas.height);if(o&&o.target){var s=o.target.getBoundingClientRect(),a=0,u=0;o.offset&&o.offset.x&&(a=-1!=o.offset.x.indexOf("%")?s.left+s.width*(parseFloat(o.offset.x)/100):o.offset.x),o.offset&&o.offset.y&&(u=-1!=o.offset.y.indexOf("%")?s.top+s.height*(parseFloat(o.offset.y)/100):o.offset.y),o=vec2.fromValues(a,Math.min(u,window.innerHeight+this.options.sparkEdgeBottomOffset))}else if(!o)throw"Please provide a valid target type to Embers object.";var c={type:2,sparkResolution:_,size:Math.random()*(this.options.maxSparkSize-this.options.minSparkSize)+this.options.minSparkSize,color:{h:28*Math.random()+15,s:.4*Math.random()+.6,l:1},pos:vec2.add(vec2.create(),o,vec2.fromValues(Math.cos(r)*n,Math.sin(r)*n)),vel:vec2.scale(vec2.create(),vec2.fromValues(Math.cos(e),Math.sin(e)),Math.random()*(this.options.maxSparkVelocity-this.options.minSparkVelocity)+this.options.minSparkVelocity),heatCurrent:0,lastAngleChangeTime:0,glow:.6*Math.random()+.4,glowFlickerSpeed:5*Math.random()+2,life:i,lifeTotal:this.options.maxSparkLife};t.spark(c)},addedHandler:function(){this.renderer.addListener(f.WINDOW_SCROLL,this.windowScrollHandler.bind(this))},windowScrollHandler:function(t){if(this.options.scrollRatio){var e=t.properties.deltaY,r=vec2.fromValues(0,-e*this.options.scrollRatio);this.sparks.forEach(function(t){t.sparking&&(t.points=t.points.map(function(t){return vec2.add(vec2.create(),t,r)}),vec2.add(t.pos,t.pos,r))})}},onFrameHandler:function(t){var e=this;this.sparks.forEach(function(r){if(!r.sparking){if(!(Math.random()>1-t))return;e.startSpark(r)}n.call(r,e),r.onFrameHandler(e.elapsed,e.renderer.ctx)})}},{},c);var C=S},{"../lib/core/GraphicContainer":10,"../lib/core/events/GraphicEvents":13,"../lib/core/events/GraphicRendererEvents":14,"../lib/core/util/Color":17,"../lib/gx/Spark":27}],5:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return F}},__esModule:{value:!0}});var n,i,o,s,a,u,c,l=(n=t("../lib/core/GraphicContainer"),n&&n.__esModule&&n||{"default":n})["default"],h=(i=t("../lib/core/util/Color"),i&&i.__esModule&&i||{"default":i}),f=h.hsvToRgb,d=h.rgbaToFloat32,p=(h.colorToHex,h.red,h.green,h.blue,(o=t("../lib/core/util/Number"),o&&o.__esModule&&o||{"default":o}).ran),v=(s=t("../lib/core/events/GraphicEvents"),s&&s.__esModule&&s||{"default":s})["default"],g=((a=t("../lib/core/util/Trig"),a&&a.__esModule&&a||{"default":a}).PythagoreanCache,(u=t("../lib/core/events/GraphicRendererEvents"),u&&u.__esModule&&u||{"default":u})["default"]),b=((c=t("../lib/core/util/Rect"),c&&c.__esModule&&c||{"default":c})["default"],2),m=5,y=1.2,w=0,_=.25,j=0,O=360,M=.5,S=1,E=1920,C=1080,R=0,T=.6,x=1.2,k=.01,P=[0,.1,.2,.1,0,.1,.4,.5,.4,.1,.2,.5,1,.5,.2,.1,.4,.5,.4,.1,0,.1,.2,.1,0],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.1,.2,.1,0,0,0,0,0,.1,.4,.5,.4,.1,0,0,0,0,.2,.5,1,.5,.2,0,0,0,0,.1,.4,.5,.4,.1,0,0,0,0,0,.1,.2,.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0,.6,0,0,0,0,0,0,0,.1,.7,.1,0,0,0,0,0,.5,.1,.8,.1,.5,0,0,0,.1,.1,.7,.9,.7,.1,.1,0,.6,.7,.8,.9,1,.9,.8,.7,.6,0,.1,.1,.7,.9,.7,.1,.1,0,0,0,.5,.1,.8,.1,.5,0,0,0,0,0,.1,.7,.1,0,0,0,0,0,0,0,.6,0,0,0,0],H=function(t,e){$traceurRuntime.superConstructor(D).call(this,t,e||"starfield");var r=this.options;r.starDensity=r.starDensity||b,r.starMaxSize=r.starMaxSize||m,r.starMinSize=r.starMinSize||y,r.starMaxSaturation=r.starMaxSaturation||_,r.starMinSaturation=r.starMinSaturation||w,r.starMaxHue=r.starMaxHue||O,r.starMinHue=r.starMinHue||j,r.starMaxValue=r.starMaxValue||S,r.starMinValue=r.starMinValue||M,r.starViewWidth=r.starViewWidth||E,r.starViewHeight=r.starViewHeight||C,r.starTwinkleTimeMin=r.starTwinkleTimeMin||T,r.starTwinkleTimeMax=r.starTwinkleTimeMax||x,r.starTwinkleRate=r.starTwinkleRate||k,r.starViewScrollRatio=r.starViewScrollRatio||R,r.scrollRatio=r.scrollRatio||1,r.fill=void 0!==r.fill?r.fill:!0,this.stars=[],this.buildStars(),this.addListener(v.ADDED,this.addedHandler.bind(this)),this._starFilterTimeout=0},D=H;$traceurRuntime.createClass(H,{buildStars:function(){var t=this.options,e=t.starViewHeight*t.starViewScrollRatio+1200,r=t.starViewWidth*e;t.starCount=r/1e4*t.starDensity,this.allStars=[];for(var n=0;n<t.starCount;n++){var i={g:vec2.fromValues(Math.round(p(0,t.starViewWidth)),Math.round(p(0,e))),d:p(t.starMinSize,t.starMaxSize),c:d(f(p(t.starMinHue,t.starMaxHue),p(t.starMinSaturation,t.starMaxSaturation),p(t.starMinValue,t.starMaxValue))),t:0,p:0};this.allStars.push(i)}},viewStars:function(t,e){var r=this.options,n=this.renderer.canvas.width,i=this.renderer.canvas.height;t=Math.round(t),e=Math.round(e*r.starViewScrollRatio),this.stars=this.allStars.filter(function(r){return r.ixs=void 0,r.g[1]>=e&&r.g[1]<=e+i&&r.g[0]>=t&&r.g[0]<=t+n?(r.p?(r.p[0]=r.g[0]-t,r.p[1]=r.g[1]-e):r.p=vec2.fromValues(r.g[0]-t,r.g[1]-e),!0):!1}),this._starFilterTimeout=0},_rebuildImageDataCache:function(){if(this.renderer&&this.renderer.ctx){var t=this.renderer.canvas.width,e=this.renderer.canvas.height;this.cacheImDa=this.renderer.ctx.createImageData(t,e);var r=this.renderer.ctx.getImageData(0,0,t,e);this.cacheImDa.data.set(r.data),this.imda=this.renderer.ctx.createImageData(t,e)}},addedHandler:function(){var t=this.options;t.fill&&(t.fieldWidth=this.renderer.canvas.width,t.fieldHeight=this.renderer.canvas.height);var e=Math.ceil(t.starMaxSize);this.wh=e,this.renderer.addListener(g.CANVAS_RESIZE,this.canvasResizedHandler.bind(this)),t.starViewScrollRatio&&this.renderer.addListener(g.WINDOW_SCROLL,this.windowScrollHandler.bind(this)),this.viewStars(0,window.scrollY||window.pageYOffset)},canvasResizedHandler:function(t){var e=this.renderer.canvas.width,r=this.renderer.canvas.height,n=this.options;n.fill&&(n.fieldWidth=e,n.fieldHeight=r),this._rebuildImageDataCache(),this.viewStars(0,window.scrollY||window.pageYOffset)},onFrameHandler:function(t){var e=this.renderer.ctx,r=this.renderer.canvas.width,n=(this.renderer.canvas.height,this.options);this.cacheImDa||this._rebuildImageDataCache(),this.imda.data.set(this.cacheImDa.data);var i=new Uint32Array(this.imda.data.buffer),o=(new Uint8ClampedArray(this.imda.data.buffer),0),s=0,a=0,u=0,c=(this.wh,81),l=25,h=9,f=function(e){var f=void 0,d=void 0;if(e.t||Math.random()<n.starTwinkleRate*t){e.totTime=e.totTime||p(n.starTwinkleTimeMin,n.starTwinkleTimeMax),e.t=e.t+t||t;var v=Math.sin(e.t/e.totTime*Math.PI),g=e.d/2,b=e.p[1],m=e.p[0],y=void 0;for(a=0;c>a;a++)(0!==A[a]||0!==I[a])&&(s=Math.floor(a/h),o=a%h,y=A[a]/g*(1-v),f=Math.min(1,I[a]*v+y),d=1-f,u=Math.round((s+b)*r+(o+m)),i[u]=16777215&e.c|Math.max((4278190080&i[u])>>24,Math.floor(255*f))<<24);e.t>e.totTime&&(e.t=0,e.totTime=void 0)}else if(e.ixs)for(a=0;l>a;a++)i[e.ixs[a]]=e.cacheColor[a];else for(e.ixs=[],e.cacheColor=[],s=2,o=2,a=0;l>a;a++)f=Math.min(1,P[a]/(e.d/2)),d=1-f,u=Math.round((s+e.p[1])*r+(o+e.p[0])),i[u]=16777215&e.c|Math.min(255,Math.max((4278190080&i[u])>>24,Math.floor(255*f)))<<24,e.ixs.push(u),e.cacheColor.push(i[u]),s=6==o?s+1:s,o=6==o?2:o+1};this.stars.forEach(f),e.putImageData(this.imda,0,0)},windowScrollHandler:function(t){this.options;this.viewStars(0,window.scrollY||window.pageYOffset)}},{},l);var F=H},{"../lib/core/GraphicContainer":10,"../lib/core/events/GraphicEvents":13,"../lib/core/events/GraphicRendererEvents":14,"../lib/core/util/Color":17,"../lib/core/util/Number":22,"../lib/core/util/Rect":23,"../lib/core/util/Trig":25}],6:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return H}},__esModule:{value:!0}});var n,i,o,s,a,u,c,l,h,f,d,p,v,g,b,m,y=(n=t("./core/GraphicRenderer.js"),n&&n.__esModule&&n||{"default":n})["default"],w=(i=t("./core/GraphicContainer.js"),i&&i.__esModule&&i||{"default":i})["default"],_=(o=t("./core/Graphic.js"),o&&o.__esModule&&o||{"default":o})["default"],j=(s=t("./core/Document.js"),s&&s.__esModule&&s||{"default":s})["default"],O=(a=t("./core/events/GraphicRendererEvents.js"),a&&a.__esModule&&a||{"default":a})["default"],M=(u=t("./core/events/GraphicEvents.js"),u&&u.__esModule&&u||{"default":u})["default"],S=(c=t("./core/events/MouseEvents.js"),c&&c.__esModule&&c||{"default":c})["default"],E=(l=t("./core/events/DocumentEvents.js"),l&&l.__esModule&&l||{"default":l})["default"],C=(h=t("./core/util/Array"),h&&h.__esModule&&h||{"default":h})["default"],R=(f=t("./core/util/Color"),f&&f.__esModule&&f||{"default":f})["default"],T=(d=t("./core/util/Dispatcher"),d&&d.__esModule&&d||{"default":d})["default"],x=(p=t("./core/util/DispatcherNode"),p&&p.__esModule&&p||{"default":p})["default"],k=(v=t("./core/util/Event"),v&&v.__esModule&&v||{"default":v})["default"],P=(g=t("./core/util/Number"),g&&g.__esModule&&g||{"default":g})["default"],A=(b=t("./core/util/Rect"),b&&b.__esModule&&b||{"default":b})["default"],I=(m=t("./core/util/Vec2"),m&&m.__esModule&&m||{"default":m})["default"],H={GraphicRenderer:y,GraphicContainer:w,Graphic:_,Document:j,events:{GraphicEvents:M,GraphicRendererEvents:O,MouseEvents:S,DocumentEvents:E},util:{Array:C,Color:R,Dispatcher:T,DispatcherNode:x,Event:k,Number:P,Rect:A,Vec2:I}}},{"./core/Document.js":7,"./core/Graphic.js":8,"./core/GraphicContainer.js":10,"./core/GraphicRenderer.js":11,"./core/events/DocumentEvents.js":12,"./core/events/GraphicEvents.js":13,"./core/events/GraphicRendererEvents.js":14,"./core/events/MouseEvents.js":15,"./core/util/Array":16,"./core/util/Color":17,"./core/util/Dispatcher":18,"./core/util/DispatcherNode":19,"./core/util/Event":20,"./core/util/Number":22,"./core/util/Rect":23,"./core/util/Vec2":26}],7:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return h}},__esModule:{value:!0}});var n,i,o,s=(n=t("./util/Dispatcher"),n&&n.__esModule&&n||{"default":n})["default"],a=(i=t("./events/DocumentEvents"),i&&i.__esModule&&i||{"default":i})["default"],u=(o=t("./util/Event"),o&&o.__esModule&&o||{"default":o})["default"],c=function(){$traceurRuntime.superConstructor(l).call(this),this.listenForDocumentFocusChange()},l=c;$traceurRuntime.createClass(c,{get focus(){return this._focus},set __focus(t){this._focus!==t&&(this._focus=t,this.dispatch(new u(a.FOCUS_CHANGE,{focus:this._focus})))},listenForDocumentFocusChange:function(){var t="hidden";t in document?document.addEventListener("visibilitychange",this.onFocusChangeHandler.bind(this,t)):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",this.onFocusChangeHandler.bind(this,t)):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",this.onFocusChangeHandler.bind(this,t)):(t="msHidden")in document?document.addEventListener("msvisibilitychange",this.onFocusChangeHandler.bind(this,t)):"onfocusin"in document?document.onfocusin=document.onfocusout=this.onFocusChangeHandler.bind(this,t):window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this.onFocusChangeHandler.bind(this,t)},onFocusChangeHandler:function(t,e){var r=!1,n=!0,i={focus:r,focusin:r,pageshow:r,blur:n,focusout:n,pagehide:n};e=e||window.event,this.__focus=e.type in i?!i[e.type]:!document[t]}},{},s);var h=c},{"./events/DocumentEvents":12,"./util/Dispatcher":18,"./util/Event":20}],8:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return a}},__esModule:{value:!0}});var n,i=(n=t("./util/DispatcherNode"),n&&n.__esModule&&n||{"default":n})["default"],o=function(){$traceurRuntime.superConstructor(s).call(this)},s=o;$traceurRuntime.createClass(o,{onFrameHandler:function(t){}},{},i);var a=o},{"./util/DispatcherNode":19}],9:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return p}},__esModule:{value:!0}});var n,i,o,s,a,u,c=(n=t("./GraphicContainer"),n&&n.__esModule&&n||{"default":n})["default"],l=((i=t("./events/GraphicEvents"),i&&i.__esModule&&i||{"default":i})["default"],(o=t("./events/MouseEvents"),o&&o.__esModule&&o||{"default":o})["default"],(s=t("./util/Event"),s&&s.__esModule&&s||{"default":s})["default"],(a=t("./util/Rect"),a&&a.__esModule&&a||{"default":a})["default"]),h=(u=t("./util/Graphics"),u&&u.__esModule&&u||{"default":u}).fillRectRadius,f=function(t,e){$traceurRuntime.superConstructor(d).call(this,t,e);var r=this.options;r.bgColor=r.bgColor||"#AAAAAA",r.strokeStyle=r.strokeStyle||"#333333",r.lineWidth=r.lineWidth||2,r.cornerRadius=r.cornerRadius||0,r.clip=r.clip===!0?!0:!1,this.setupFontOptions(t),this.bounds=r.bounds||new l(0,0,0,0),this.boundsPercent=r.boundsPercent||new l(NaN,NaN,NaN,NaN),this.padding=r.padding||new l(0,0,0,0)},d=f;$traceurRuntime.createClass(f,{get x(){return isNaN(this.boundsPercent.x)?this.bounds.x:this.boundsPercent.x*this.parent.width},get y(){return isNaN(this.boundsPercent.y)?this.bounds.y:this.boundsPercent.y*this.parent.height},get globalX(){return this.parent?this.parent.globalX+this.x:this.x},get globalY(){return this.parent?this.parent.globalY+this.y:this.y},get width(){return isNaN(this.boundsPercent.width)?this.bounds.width:this.boundsPercent.width*this.parent.width},set width(t){this.bounds.width=t},get height(){return isNaN(this.boundsPercent.height)?this.bounds.height:this.boundsPercent.height*this.parent.height},set height(t){this.bounds.height=t},callNextFrame:function(t,e){this.nextFrameCalls=this.nextFrameCalls||{},this.nextFrameCalls[t]=e},hasCallNextFrame:function(t){return this.nextFrameCalls&&void 0!==this.nextFrameCalls[t]},invalidateProperty:function(t,e){this.invalidatedProps=this.invalidatedProps||{},this.invalidatedProps[t]=e},validate:function(){for(var t in this.invalidatedProps)this[prop]=this.invalidatedProps[prop];for(var t in this.nextFrameCalls)this.nextFrameCalls[t]();this.invalidatedProps={},this.nextFrameCalls={}},setupFontOptions:function(t){var e=this.options;e.font=t.font||e.font||"12px Georgia white",e.color=t.color||e.color||"black"},measureText:function(t){var e=this.renderer.ctx,r=this.options;return e.font=r.font,e.fillStyle=r.color,e.measureText(t)},renderText:function(t,e,r,n){var i=this.renderer.ctx,o=this.options;n=n||"hanging",i.font=o.font,i.fillStyle=o.color,i.textBaseline=n,i.fillText(r,this.globalX+t,this.globalY+e)},globalToLocal:function(t,e){return vec2.fromValues(t-this.globalX,e-this.globalY)},globalInBounds:function(t,e){return t>=this.globalX&&t<=this.globalX+this.width&&e>=this.globalY&&e<=this.globalY+this.height},beginClip:function(){if(this.options.clip){var t=this.renderer.ctx,e=this.globalX,r=this.globalY;t.save(),t.beginPath(),t.rect(e,r,this.width,this.height),t.clip()}},endClip:function(){if(this.options.clip){var t=this.renderer.ctx;t.restore()}},renderBackground:function(){var t=this.renderer.ctx,e=this.options;t.fillStyle=e.bgColor,t.strokeStyle=e.strokeStyle,t.lineWidth=e.lineWidth,e.cornerRadius?h(t,this.globalX,this.globalY,this.width,this.height,e.cornerRadius):t.fillRect(this.globalX,this.globalY,this.width,this.height)},renderAfterEffects:function(){var t=this.options,e=this.renderer.ctx;t.shadow&&(e.save(),this.beginClip(),e.shadowColor=t.shadow.color||"rgba(0, 0, 0, 0.5)",e.shadowOffsetX=t.shadow.offsetX||2,e.shadowOffsetY=t.shadow.offsetY||2,e.shadowBlur=t.shadow.blur||6,e.beginPath(),e.moveTo(this.globalX-2,this.globalY-2),e.lineTo(this.globalX+this.width+4,this.globalY-2),e.lineTo(this.globalX+this.width+4,this.globalY+this.height+4),e.lineTo(this.globalX-2,this.globalY+this.height+4),e.lineTo(this.globalX-2,this.globalY-2),e.closePath(),e.lineWidth=1,e.strokeStyle="rgba(255,255,255,1)",e.stroke(),this.endClip(),e.restore())},_onFrameHandler:function(t){var e=this.options;e.cursor&&this.globalInBounds(this.renderer.mouse.canvasX,this.renderer.mouse.canvasY)&&(this.renderer.bodyCursor=e.cursor),this.validate(),$traceurRuntime.superGet(this,d.prototype,"_onFrameHandler").call(this,t)}},{},c);var p=f},{"./GraphicContainer":10,"./events/GraphicEvents":13,"./events/MouseEvents":15,"./util/Event":20,"./util/Graphics":21,"./util/Rect":23}],10:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return h}},__esModule:{value:!0}});var n,i,o,s=(n=t("./Graphic"),n&&n.__esModule&&n||{"default":n})["default"],a=(i=t("./events/GraphicEvents"),i&&i.__esModule&&i||{"default":i})["default"],u=(o=t("./util/Event"),o&&o.__esModule&&o||{"default":o})["default"],c=function(t,e){$traceurRuntime.superConstructor(l).call(this,t),this.options=t||{},this.id=e,this.renderer=void 0,this.parent=void 0,this.children=[],this.visible=!0;for(var r in this.defaults)void 0===this.options[r]&&(this.options[r]=this.defaults[r])},l=c;$traceurRuntime.createClass(c,{"default":function(t,e){this.defaults=this.defaults||{},this.defaults[t]=e},addChild:function(t){this.addChildAt(t,this.children.length)},addChildAt:function(t,e){this.children.splice(e,0,t),t.parent=this,t.renderer=this.renderer,t.dispatch(new u(a.ADDED)),this.dispatch(new u(a.CHILD_ADDED))},removeChild:function(t){var e=this.children.indexOf(t);-1!=e&&this.removeChildAt(e)},removeChildAt:function(t){if(0>t||t>this.children.length)throw"Child index out of bounds: "+ix;var e=this.children.splice(t,1);e.renderer=void 0,e.parent=void 0,e.hasOwnProperty("dispatch")&&e.dispatch(new u(a.REMOVED)),this.dispatch(new u(a.CHILD_REMOVED))},_onFrameHandler:function(t){this.visible&&(this.onFrameHandler(t),this.children.forEach(function(e){return e._onFrameHandler(t)}))},onFrameHandler:function(t){}},{},s);var h=c},{"./Graphic":8,"./events/GraphicEvents":13,"./util/Event":20}],11:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return w}},__esModule:{value:!0}});var n,i,o,s,a,u,c,l=(n=t("./Document"),n&&n.__esModule&&n||{"default":n})["default"],h=(i=t("./events/DocumentEvents"),i&&i.__esModule&&i||{"default":i})["default"],f=(o=t("./GraphicComponent"),o&&o.__esModule&&o||{"default":o})["default"],d=(s=t("./events/GraphicRendererEvents"),s&&s.__esModule&&s||{"default":s})["default"],p=(a=t("./events/MouseEvents"),a&&a.__esModule&&a||{"default":a})["default"],v=(u=t("./util/Event"),u&&u.__esModule&&u||{"default":u})["default"],g=((c=t("./util/Rect"),c&&c.__esModule&&c||{"default":c})["default"],800),b=800/1.618,m=function(t,e,r){if(!t)throw"Please provide a canvas to GraphicRenderer. Thank you and have a nice day.";$traceurRuntime.superConstructor(y).call(this,e,r),this.canvas=t,this.document=new l,this.document.addListener(h.FOCUS_CHANGE,this._focusChangeHandler.bind(this));var n=this.options=e||{};n.canvasAutoClear=void 0!==n.canvasAutoClear?n.canvasAutoClear:!0,n.resizeToCanvas=n.resizeToCanvas===!0?!0:!1,n.debugPosX=n.debugPosX||10,n.debugPosY=n.debugPosY||10,n.pauseOnLoseFocus=n.pauseOnLoseFocus===!1?!1:!0,this.enabled=n.enabled===!1?!1:!0,this.fps=0,this.lastTime=0,n.fillWindow||(this.canvasTargetWidth=this.width=n.width||g,this.canvasTargetHeight=this.height=n.height||b),setTimeout(this._resizeHandler.bind(this),1),window.addEventListener("resize",this._resizeHandler.bind(this)),this.lastScrollTop=window.pageYOffset,window.addEventListener("scroll",this._scrollHandler.bind(this)),n.mouseEnabled!==!1&&(t.addEventListener("mousemove",this._canvasOnMouseMoveHandler.bind(this)),t.addEventListener("mouseout",this._canvasOnMouseOutHandler.bind(this)),t.addEventListener("click",this._canvasOnMouseClickHandler.bind(this)),t.addEventListener("mousedown",this._canvasOnMouseDownHandler.bind(this)),t.addEventListener("mouseup",this._canvasOnMouseUpHandler.bind(this))),n.touchEnabled!==!1&&(t.addEventListener("touchstart",this._canvasOnTouchStartHandler.bind(this)),t.addEventListener("touchmove",this._canvasOnTouchMoveHandler.bind(this))),r&&(t.setAttribute("id",r),window.jd=window.jd||{},window.jd[r]=this),this.renderer=this,this.parent=void 0,this._cursor="auto",this._paused=!1,this.mouse={canvasX:-1,canvasY:-1},window.requestAnimationFrame(this._onFrameFirstHandler.bind(this))},y=m;$traceurRuntime.createClass(m,{get debugText(){var t=Math.round(1/this.elapsed);return this.fps=Math.ceil(.9*this.fps+.1*t),(this.id?this.id:"[no-id]")+": "+this.canvas.width+", "+this.canvas.height+" FPS: "+this.fps+(this.options.debugText?this.options.debugText:"")+" "+this.options.canvasAutoClear},debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.options.debug&&console.log.apply(console,t)},get bodyCursor(){return this._cursor},set bodyCursor(t){this._cursor=t,this.callNextFrame("setBodyCursor",function(){document.body.style.cursor=t})},get paused(){return this._paused},set paused(t){this._paused!==t&&(this._paused=t)},_focusChangeHandler:function(t){this.options.pauseOnLoseFocus&&(this.paused=!t.properties.focus)},_resizeHandler:function(t){var e=this.canvas.width,r=this.canvas.height;this.options.resizeToCanvas?this.canvas.setAttribute("width",this.canvas.clientWidth):this.canvas.setAttribute("width",this.canvasTargetWidth);var n=parseFloat(this.canvas.clientHeight)/parseFloat(this.canvas.clientWidth);this.canvas.setAttribute("height",this.canvas.width*n),this.scaleX=this.canvas.width/parseFloat(this.canvas.clientWidth),this.scaleY=this.canvas.height/parseFloat(this.canvas.clientHeight),this.bounds.width=this.canvas.width,this.bounds.height=this.canvas.height,(e!=this.canvas.width||r!=this.canvas.height)&&this.dispatch(new v(d.CANVAS_RESIZE)),this.dispatch(new v(d.WINDOW_RESIZE)),this.resizeHandler()},resizeHandler:function(){this.debug("Resized!",this.canvasTargetWidth,this.canvasTargetHeight)},processMouseEvent:function(t){
var e=this.canvas.getBoundingClientRect();return this.mouse={event:t,canvasX:t.clientX-e.left,canvasY:t.clientY-e.top}},_scrollHandler:function(t){var e=window.pageYOffset-this.lastScrollTop;this.lastScrollTop=window.pageYOffset,this.dispatch(new v(d.WINDOW_SCROLL,{deltaY:e,scrollTop:window.pageYOffset,originalEvent:t}))},_canvasOnMouseClickHandler:function(t){this.dispatch(new v(p.CLICK,this.processMouseEvent(t)))},_canvasOnMouseDownHandler:function(t){this.dispatch(new v(p.MOUSE_DOWN,this.processMouseEvent(t)))},_canvasOnMouseUpHandler:function(t){this.dispatch(new v(p.MOUSE_UP,this.processMouseEvent(t)))},_canvasOnMouseMoveHandler:function(t){this.dispatch(new v(p.MOUSE_MOVE,this.processMouseEvent(t)))},_canvasOnMouseOutHandler:function(t){this.dispatch(new v(p.MOUSE_OUT,this.processMouseEvent(t)))},_canvasOnTouchStartHandler:function(){},_canvasOnTouchMoveHandler:function(){},_onFrameFirstHandler:function(t){this.lastTime=t,window.requestAnimationFrame(this._onFrameHandler.bind(this))},_onFrameHandler:function(t){this.enabled&&this.paused!==!0&&(this.ctx=this.ctx||this.canvas.getContext("2d"),window.requestAnimationFrame(this._onFrameHandler.bind(this)),void 0!==this.options.canvasAutoClear&&(this.options.canvasAutoClear!==!0?(this.ctx.fillStyle=this.options.canvasAutoClear,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)):this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)),this.elapsed=Math.min(.1,(t-this.lastTime)/1e3),this.lastTime=t,this.hasCallNextFrame("setBodyCursor")||(this.bodyCursor="auto"),$traceurRuntime.superGet(this,y.prototype,"_onFrameHandler").call(this,this.elapsed),this.options.debug&&(this.ctx.font="12px Georgia white",this.ctx.fillStyle="orange",this.ctx.fillText(this.debugText,this.options.debugPosX,this.options.debugPosY)))}},{},f);var w=m},{"./Document":7,"./GraphicComponent":9,"./events/DocumentEvents":12,"./events/GraphicRendererEvents":14,"./events/MouseEvents":15,"./util/Event":20,"./util/Rect":23}],12:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return o}},__esModule:{value:!0}});var n,i=(n=t("./../util/Event"),n&&n.__esModule&&n||{"default":n})["default"],o=i.generateEventList([{type:"FOCUS_CHANGE",description:"Dispatched when the window loses or gains focus."}])},{"./../util/Event":20}],13:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return o}},__esModule:{value:!0}});var n,i=(n=t("./../util/Event"),n&&n.__esModule&&n||{"default":n})["default"],o=i.generateEventList([{type:"ADDED",description:"Called on a child Graphic when it is added to a new parent GraphicContainer."},{type:"CHILD_ADDED",description:"Called on a parent GraphicContainer when it has a new child added to it."},{type:"REMOVED",description:"Called on a child Graphic when it is removed from a parent GraphicContainer."},{type:"CHILD_REMOVED",description:"Called on a parent GraphicContainer when a child Graphic has been removed."}])},{"./../util/Event":20}],14:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return o}},__esModule:{value:!0}});var n,i=(n=t("./../util/Event"),n&&n.__esModule&&n||{"default":n})["default"],o=i.generateEventList([{type:"WINDOW_SCROLL",description:"Dispatched when the window scrolls."},{type:"WINDOW_RESIZE",description:"Dispatched when the window is resized."},{type:"CANVAS_RESIZE",description:"Dispatched when the canvas is resized."}])},{"./../util/Event":20}],15:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return o}},__esModule:{value:!0}});var n,i=(n=t("../util/Event"),n&&n.__esModule&&n||{"default":n})["default"],o=i.generateEventList([{type:"CLICK",description:"Dispatched on a mouse click."},{type:"MOUSE_DOWN",description:"Dispatched on a mouse down."},{type:"MOUSE_UP",description:"Dispatched on a mouse up."},{type:"MOUSE_MOVE",description:"Dispatched on a mouse move."},{type:"MOUSE_OUT",description:"Dispatched on a mouse out."}])},{"../util/Event":20}],16:[function(t,e,r){"use strict";function n(t){return t[Math.floor(ran(0,t.length-1e-6))]}Object.defineProperties(r,{ranItem:{get:function(){return n}},"default":{get:function(){return i}},__esModule:{value:!0}});var i={ranItem:n}},{}],17:[function(t,e,r){"use strict";function n(t,e,r){var n,i,o,s,a,u,c,l;if(0==e)u=c=l=r;else switch(t/=60,n=Math.floor(t),i=t-n,o=r*(1-e),s=r*(1-e*i),a=r*(1-e*(1-i)),n){case 0:u=r,c=a,l=o;break;case 1:u=s,c=r,l=o;break;case 2:u=o,c=r,l=a;break;case 3:u=o,c=s,l=r;break;case 4:u=a,c=o,l=r;break;default:u=r,c=o,l=s}return{r:u,g:c,b:l,a:1}}function i(t){return 255*t.r|255*t.g<<8|255*t.b<<16|(void 0!==t.a?t.a<<24:4278190080)}function o(t){var e=t.toString(16);switch(e.length){case 6:return"#"+e;case 5:return"#0"+e;case 4:return"#00"+e;case 3:return"#000"+e;case 2:return"#0000"+e;case 1:return"#00000"+e}return"#000000"}function s(t){return(16711680&t)>>16}function a(t){return(65280&t)>>8}function u(t){return 255&t}Object.defineProperties(r,{hsvToRgb:{get:function(){return n}},rgbaToFloat32:{get:function(){return i}},colorToHex:{get:function(){return o}},red:{get:function(){return s}},green:{get:function(){return a}},blue:{get:function(){return u}},"default":{get:function(){return c}},__esModule:{value:!0}});var c={hsvToRgb:n,rgbaToFloat32:i,red:s,green:a,blue:u}},{}],18:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return i}},__esModule:{value:!0}});var n=function(){this.listeners={}};$traceurRuntime.createClass(n,{addListener:function(t,e){if(!t)throw new Error("Expected a type object to be provided to Dispatcher.");if(!t.type)throw new Error("Expected the provided type object to have a type property when provided to Dispatcher.");if(!this.listeners)throw new Error("Dispatcher constructor was not called before calling addListener.");this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)},dispatch:function(t){this.listeners[t.type]?this.listeners[t.type].forEach(function(e){return e(t)}):void 0},hasListener:function(t){return void 0!==this.listeners[t]}},{});var i=n},{}],19:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return a}},__esModule:{value:!0}});var n,i=(n=t("./Dispatcher"),n&&n.__esModule&&n||{"default":n})["default"],o=function(){$traceurRuntime.superConstructor(s).call(this),this.captureListeners=[],this._dispatchChildren=[],this._parent=null},s=o;$traceurRuntime.createClass(o,{set parentDispatchNode(t){this._parent=t},get parentDispatchNode(){return this._parent},get dispatchChildren(){return this._dispatchChildren},addListener:function(t,e,r){var n=r?this.captureListeners:this.listeners;n[t.type]=n[t.type]||[],n[t.type].push(e)},dispatch:function(t){t.target=this,t.useCapture&&(t.phase=1,this.getAncestors().forEach(function(e){e.hasCaptureListener(t.type.type)&&(t.currentTarget=e,e._dispatch(t))})),t.phase=0,this._dispatch(t),t.flood&&this._dispatchChildren.forEach(function(e){e.dispatch(t)}),t.bubbles&&(t.phase=2,this.getAncestors().reverse().forEach(function(e){t.currentTarget=e,e._dispatch(t)}))},_dispatch:function(t,e){return e?void(this.captureListeners[t.type.type]?this.captureListeners[t.type.type].forEach(function(e){return e(t)}):void 0):void(this.listeners[t.type.type]?this.listeners[t.type.type].forEach(function(e){return e(t)}):void 0)},addDispatchChild:function(t){this.addDispatchChildAt(this._dispatchChildren.length)},addDispatchChildAt:function(t,e){this._dispatchChildren.splice(e,0,t)},removeDispatchChild:function(t){this.removeDispatchChildAt(this.dispatchChildren.indexOf(t))},removeDispatchChildAt:function(t){this.dispatchChildren.splice(t,1)},getAncestors:function(){var t=this.parent?[this.parent]:void 0;if(t)for(;t[0].parent;)t.unshift(t[0].parent);return t}},{},i);var a=o},{"./Dispatcher":18}],20:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return i}},__esModule:{value:!0}});var n=function(t,e,r,n){this.type=t,this.bubbles=r,this.useCapture=n,this.phase=-1,this.target=null,this.properties=e};$traceurRuntime.createClass(n,{},{}),n.typeId=0,n.generateType=function(t,e){return{type:t,description:e,typeId:n.typeId++}},n.generateEventList=function(t){var e={};return t.forEach(function(t){e[t.type]=n.generateType(t.type,t.description)}),e};var i=n},{}],21:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,s,a){s=void 0===s?!0:s,a=void 0===a?!0:a;var u=o;t.beginPath(),t.moveTo(e,r+u),t.quadraticCurveTo(e,r,e+u,r),t.lineTo(e+n-u,r),t.quadraticCurveTo(e+n,r,e+n,r+u),t.lineTo(e+n,r+i-u),t.quadraticCurveTo(e+n,r+i,e+n-u,r+i),t.lineTo(e+u,r+i),t.quadraticCurveTo(e,r+i,e,r+i-u),t.lineTo(e,r+u),t.closePath(),s&&t.stroke(),a&&t.fill()}function i(t,e,r,n,i,o,u,c,l,h,f,d,p){o=o||e+n-c;var v=d||a,g=p||s;h=void 0===h?!0:h,f=void 0===f?!0:f,l=l||"bottom",c=c||10;var b=c;if("top"===l||"bottom"===l?i-=v:n-=g,t.beginPath(),t.moveTo(e,r+b),t.quadraticCurveTo(e,r,e+b,r),t.lineTo(e+n-b,r),t.quadraticCurveTo(e+n,r,e+n,r+b),t.lineTo(e+n,r+i-b),t.quadraticCurveTo(e+n,r+i,e+n-b,r+i),"bottom"===l){var m=Math.min(Math.max(e+b,o),e+n-b),y=m>e+n/2?"r":"l",w="r"===y?m:m+g,_="r"===y?m-g:m;t.lineTo(w,r+i),t.lineTo("r"===y?w:_,r+i+v),t.lineTo(_,r+i),t.lineTo(e+b,r+i)}else t.lineTo(e+b,r+i);t.quadraticCurveTo(e,r+i,e,r+i-b),t.lineTo(e,r+b),t.closePath(),h&&t.stroke(),f&&t.fill()}function o(t,e){var r=t.left,n=t.top;return t.left<e.left?r=e.left:t.left+t.width>e.left+e.width&&(r=e.right-t.width),t.top<e.top?n=e.top:t.top+t.height>e.top+e.height&&(n=e.bottom-t.height),vec2.fromValues(r,n)}Object.defineProperties(r,{fillRectRadius:{get:function(){return n}},fillCallout:{get:function(){return i}},fit:{get:function(){return o}},"default":{get:function(){return u}},__esModule:{value:!0}});var s=10,a=20,u={fillRectRadius:n,fillCallout:i,fit:o}},{}],22:[function(t,e,r){"use strict";function n(t,e){return Math.random()*(e-t)+t}function i(t,e,r){var i=n(t,e);return i+(0>r?i-t:e-i)*r}function o(){return Math.random()<.5?-1:1}Object.defineProperties(r,{ran:{get:function(){return n}},ranSkew:{get:function(){return i}},ranSign:{get:function(){return o}},"default":{get:function(){return s}},__esModule:{value:!0}});var s={ran:n,ranSkew:i}},{}],23:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return u}},__esModule:{value:!0}});var n,i,o=(n=t("./Number"),n&&n.__esModule&&n||{"default":n}).ran,s=(i=t("./Sides"),i&&i.__esModule&&i||{"default":i}).Sides,a=function(t,e,r,n){this.x=t,this.y=void 0===e?t:e,this.width=void 0===r?t:r,this.height=void 0===n?t:n};$traceurRuntime.createClass(a,{get right(){return this.x+this.width},set right(t){this.width=t-this.x},get left(){return this.x},set left(t){this.x=t},get bottom(){return this.y+this.height},set bottom(t){this.height=t-this.y},get top(){return this.y},set top(t){this.y=t},isBounding:function(t,e){return t>=this.x&&e>=this.y&&t<=this.x+this.width&&e<=this.y+this.height},isBoundingVec2:function(t){return t[0]>=this.x&&t[1]>=this.y&&t[0]<=this.x+this.width&&t[1]<=this.y+this.height},getRanVec2For:function(t){var e=0,r=0;return e=t==s.RIGHT?this.right:e,e=t==s.TOP||t==s.BOTTOM?o(0,this.right):e,r=t==s.BOTTOM?rect.bottom:r,r=t==s.LEFT||t==s.RIGHT?o(0,this.bottom):r,vec2.fromValues(e,r)}},{});var u=a},{"./Number":22,"./Sides":24}],24:[function(t,e,r){"use strict";function n(t){return(t-1+2)%4+1}function i(t,e){var r=[];return isAbove(t,e)?r.push(4):isBelow(t,e)&&r.push(2),isLeft(t,e)?r.push(3):isRight(t,e)&&r.push(1),r}function o(t){return t==s.LEFT?vec2.fromValues(-1,0):t==s.RIGHT?vec2.fromValues(1,0):t==s.TOP?vec2.fromValues(0,-1):t==s.BOTTOM?vec2.fromValues(0,1):void 0}Object.defineProperties(r,{Sides:{get:function(){return s}},reverseOf:{get:function(){return n}},toward:{get:function(){return i}},vecFor:{get:function(){return o}},"default":{get:function(){return a}},__esModule:{value:!0}});var s={LEFT:1,TOP:2,RIGHT:3,BOTTOM:4,ran:function(){return Math.floor(ran(1,4.99))}},a={Sides:s,reverseOf:n,toward:i,vecFor:o}},{}],25:[function(t,e,r){"use strict";Object.defineProperties(r,{PythagoreanCache:{get:function(){return n}},"default":{get:function(){return i}},__esModule:{value:!0}});var n=function(t){this.cache=[];for(var e=0;t>e;e++){this.cache[e]=[];for(var r=0;t>r;r++)this.cache[e][r]=Math.sqrt(e*e+r*r)}console.log("pyth",this.cache)};$traceurRuntime.createClass(n,{calc:function(t,e){return this.cache[Math.round(Math.abs(t))][Math.round(Math.abs(e))]}},{});var i={PythagoreanCache:n}},{}],26:[function(t,e,r){"use strict";function n(t,e){return t[1]<e[1]}function i(t,e){return t[1]>e[1]}function o(t,e){return t[0]<e[0]}function s(t,e){return t[0]>e[0]}Object.defineProperties(r,{isAbove:{get:function(){return n}},isBelow:{get:function(){return i}},isLeft:{get:function(){return o}},isRight:{get:function(){return s}},"default":{get:function(){return a}},__esModule:{value:!0}});var a={isAbove:n,isBelow:i,isLeft:o,isRight:s}},{}],27:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return a}},__esModule:{value:!0}});var n,i=(n=t("../physics/Object2D"),n&&n.__esModule&&n||{"default":n})["default"],o=function(t){t=t||{},$traceurRuntime.superConstructor(s).call(this,t),this.id=t.id||-1,this.redrawSegment=t.redrawSegment,this.type=t.type||1,this.sparkResolution=t.sparkResolution||100,this.options=t,this.paths=[],this.sparking=!1},s=o;$traceurRuntime.createClass(o,{reset:function(){this.sparking=!1},spark:function(t){if(!this.sparking){for(var e in t)this.options[e]=t[e];this.vel=t.vel,this.sparking=!0,this.pos=t.pos||this.options.pos,this.points=this.options.pos?[this.options.pos]:void 0}},next:function(t){if(t){this.points=this.points||[];for(var e=vec2.sub(vec2.create(),t,this.pos),r=vec2.normalize(vec2.create(),e),n=vec2.len(e),i=1;n>i;i+=Math.min(1,n-i)){var o=vec2.create(),s=vec2.add(o,vec2.scale(o,r,i),this.pos);this.points.push(s)}for(this.points.push(t),this.pos=t;this.points.length>this.sparkResolution;)this.points.shift()}},renderTail:function(t,e){if(this.points.length>1)for(var r=0,n=0;n<this.points.length-1;n++){var i=this.points[this.points.length-(n+1)],o=this.points[this.points.length-(n+2)];r+=vec2.len(vec2.sub(vec2.create(),o,i)),this.redrawSegment(this,i,o,r,n/(this.sparkResolution-1),t,e)}},onFrameHandler:function(t,e){this.sparking&&(2===this.type&&($traceurRuntime.superGet(this,s.prototype,"onFrameHandler").call(this,t,e),this.next(vec2.clone(this.pos))),this.renderTail(t,e))}},{},i);var a=o},{"../physics/Object2D":28}],28:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return i}},__esModule:{value:!0}});var n=function(t){t=t||{},this.id=t.id||-1,this.pos=t.pos||vec2.create(),this.vel=t.vel||vec2.create(),this.forces=t.forces||void 0};$traceurRuntime.createClass(n,{reset:function(t){this.pos=vec2.create(),this.vel=vec2.create(),this.forces=t||this.forces},onFrameHandler:function(t,e){var r=this;this.forces&&this.forces.forEach(function(e){vec2.add(r.vel,r.vel,vec2.scale(vec2.create(),e,t))}),vec2.add(this.pos,this.pos,vec2.scale(vec2.create(),this.vel,t))}},{});var i=n},{}],29:[function(t,e,r){"use strict";Object.defineProperties(r,{"default":{get:function(){return c}},__esModule:{value:!0}});var n,i,o,s=(n=t("../components/Embers"),n&&n.__esModule&&n||{"default":n})["default"],a=(i=t("../components/StarField"),i&&i.__esModule&&i||{"default":i})["default"],u=(o=t("../lib/Jungle"),o&&o.__esModule&&o||{"default":o})["default"];window.Jungle=u,window.Embers=s,window.Starfield=a;var c={Embers:s,Starfield:a,Jungle:u}},{"../components/Embers":4,"../components/StarField":5,"../lib/Jungle":6}]},{},[3,29]);
//# sourceMappingURL=narrator.min.js.map